var M=Object.defineProperty;var O=(n,t,e)=>t in n?M(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var u=(n,t,e)=>(O(n,typeof t!="symbol"?t+"":t,e),e);import{d as V,r as N,f as v,w as b,o as c,g as d,u as m,h as o,t as _,i as p,j as x,v as y,F as z,k as A,p as R,l as G,m as I,n as S}from"./vendor.77dafece.js";import{_ as j}from"./plugin-vue_export-helper.21dcd24c.js";const L=n=>{const t=n.split("");if(t.length===30){const e=t.filter(r=>r==="_"),a=t.filter(r=>r==="x"),i=t.filter(r=>r.match(/[A-Z]/));return e.length===4?a.length+i.length===26?i.length===new Set(i).size?"":"Warning: Duplicate [A-Z] is not allowed.":'Warning: This area requires 26 "x" or [A-Z]':'Warning: This area requires 4 "_"s. '}else return"Warning: This area requires 30 characters."},U=n=>n.length>=10?n.indexOf("'")<0&&n.indexOf('"')<0?"":`Warning: You can't use " or ' .`:"Warning: This area requires 10 characters or more.";class P{constructor(){u(this,"i");this.i=0,setInterval(()=>{this.i+=1},100)}clickit(){this.i+=1}}function q(n,t){let e=[];return n.split("").forEach(a=>{const i=F(a,t);i!=null&&e.push(i)}),e}function F(n,t){const e=n.toUpperCase(),a=t.split("").indexOf(e);return a>-1?[a%10,Math.floor(a/10)]:null}class Z{constructor(t){u(this,"layout");u(this,"nai");let e=t.split("");e=e.filter(a=>a!==`
`),this.layout=e,this.nai=this.gen_nai()}gen_nai(){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");return t=t.filter(e=>this.layout.indexOf(e)==-1),t}mizuni_modosu(t){let e=t.map(i=>i),a=[];for(let i=0;i<30;i++){const r=this.layout[i];if(r!="x")a.push(r);else{let f=e.shift();typeof f=="string"&&a.push(f)}}return a.join("")}}class J{constructor(t){u(this,"costs");u(this,"xy_array");u(this,"n_alternate");u(this,"cost_sum");u(this,"positon_cost",[[1.5,1.3,1,1,1.5,1.5,1,1,1.3,1.5],[.5,.3,.1,0,.5,.5,0,.1,.3,.5],[2,1.8,1.2,1,1.5,1.5,1,1.2,1.8,2]]);u(this,"finger_list",[[1,2,3,4,4,5,5,6,7,8],[1,2,3,4,4,5,5,6,7,8],[1,2,3,4,4,5,5,6,7,8]]);this.costs={position:0,movement:0},this.xy_array=t,this.n_alternate=0,this.create_cost(),this.cost_sum=this.costs.position+this.costs.movement}create_cost(){this.xy_array.reduce((t,e)=>{if(this.costs.position+=10*this.position_penalty(e),this.at_left_hand(e)==this.at_left_hand(t)){let a=0;const i=this.distance_2Darray(e,t);a+=i.x*6,a+=i.y*6,this.which_fing(e)==this.which_fing(t)&&(a*=2),this.costs.movement+=a}else this.n_alternate+=1;return e},this.xy_array[0])}position_penalty(t){return this.positon_cost[t[1]][t[0]]}at_left_hand(t){return t[0]<=4}distance_2Darray(t,e){return{x:Math.abs(t[0]-e[0]),y:Math.abs(t[1]-e[1])}}which_fing(t){return this.finger_list[t[1]][t[0]]}}function K(n){let t=n.split("");return[[5," "],[16," "],[27," "],[11,`
`],[23,`
`]].forEach(a=>{t.splice(a[0],0,a[1])}),t.join("")}function g(n,t){const e=q(t,n);return new J(e)}class ${constructor(t=88675123){u(this,"x");u(this,"y");u(this,"z");u(this,"w");this.x=123456789,this.y=362436069,this.z=521288629,this.w=t}next(){const t=this.x^this.x<<11;return this.x=this.y,this.y=this.z,this.z=this.w,this.w=this.w^this.w>>>19^(t^t>>>8)}nextInt(t,e){const a=Math.abs(this.next());return t+a%(e+1-t)}}const C=new $(1);class X{constructor(t,e){u(this,"nk");u(this,"text");u(this,"result");u(this,"calc");this.nk=new Z(t),this.text=e,this.result=this.nk.mizuni_modosu(this.nk.nai),this.calc=g(this.result,this.text)}doit(){let e=this.nk.nai,a=g(this.nk.mizuni_modosu(e),this.text).cost_sum;for(let i=0;i<2e3;i++){const r=Y(e),f=g(this.nk.mizuni_modosu(r),this.text).cost_sum;f<a&&(e=r,a=f,this.result=this.nk.mizuni_modosu(e),this.calc=g(this.result,this.text))}}show(){console.log(this.result),console.log(K(this.result)),console.log(g(this.result,this.text).cost_sum)}}function Y(n){let t=n.map(r=>r),e=C.nextInt(0,t.length-1),a=C.nextInt(0,t.length-1);const i=t[e];return t[e]=t[a],t[a]=i,t}const k=n=>(R("data-v-120ca852"),n=n(),G(),n),Q={key:0},tt=["value"],et={key:0,class:"alert alert-danger"},at={class:"form-check form-check-inline"},ot=k(()=>o("label",{class:"form-check-label",for:"inlineRadio1"},"Preset 1",-1)),nt={class:"form-check form-check-inline"},it=k(()=>o("label",{class:"form-check-label",for:"inlineRadio2"},"Preset 2",-1)),st=["value"],rt={key:1,class:"alert alert-danger"},ut={class:"form-check form-check-inline"},lt=k(()=>o("label",{class:"form-check-label",for:"inlineRadio1"},"EN+JA",-1)),ht={class:"form-check form-check-inline"},ct=k(()=>o("label",{class:"form-check-label",for:"inlineRadio2"},"EN",-1)),dt={class:"form-check form-check-inline"},mt=k(()=>o("label",{class:"form-check-label",for:"inlineRadio2"},"JA",-1)),_t=k(()=>o("br",null,null,-1)),ft={key:1},kt={class:"show-cont"},pt={class:"show-box"},xt={class:"show-c"},yt={class:"props-cont"},gt=I("Cost: "),wt=k(()=>o("a",{href:"./my01",class:"mb-5"},"Reset",-1)),vt={class:"none"},bt=V({props:{msg:null},setup(n){const t=N({mode_switch:0,go_btn:!1}),e=N({layout:"",text:""}),a=N({layout:"Please try presets first!",text:"Please input sentences for evaluation!"}),i=v(),r=v(),f=v(0);setInterval(()=>{f.value+=1},10);const W=l=>{e.layout=l.target.value.replaceAll(`
`,"")},B=l=>{e.text=l.target.value.replaceAll(`
`,"")};b(e,l=>{const h=L(l.layout);a.layout=h;const s=U(l.text);a.text=s,t.go_btn=h===""}),b(i,l=>{e.layout=l,console.log(l)}),b(r,l=>{e.text=l});const D=()=>{t.mode_switch=1,T(e.layout,e.text)},H=10,E=v([]),T=(l,h)=>{let s=new X(l,h);for(let w=0;w<H;w++)setTimeout(()=>{s.doit(),E.value.push({result:s.result,position:s.calc.costs.position,movement:s.calc.costs.movement,sum:s.calc.cost_sum})},20)};return b(E,l=>{console.log("change!!")}),new P,(l,h)=>(c(),d(z,null,[m(t).mode_switch===0?(c(),d("div",Q,[o("p",null,"Layout: "+_(m(e).layout),1),o("textarea",{class:"area-layout form-control",value:m(e).layout,onInput:W,cols:"10",rows:"3"},null,40,tt),m(a).layout!==""?(c(),d("div",et,_(m(a).layout),1)):p("",!0),o("div",at,[x(o("input",{"onUpdate:modelValue":h[0]||(h[0]=s=>i.value=s),class:"form-check-input",type:"radio",name:"radioName01",value:"xxxx__xxxxxxxxxxxKxxxxxx__HJLx"},null,512),[[y,i.value]]),ot]),o("div",nt,[x(o("input",{"onUpdate:modelValue":h[1]||(h[1]=s=>i.value=s),class:"form-check-input",type:"radio",name:"radioName01",value:"xxxxxxxxxxxxxxxxxxx_ZXCVxxx___"},null,512),[[y,i.value]]),it]),o("textarea",{class:"mt-5 area-text form-control",value:m(e).text,onInput:B,rows:"12",maxlength:"1000000"},null,40,st),m(a).text!==""?(c(),d("div",rt,_(m(a).text),1)):p("",!0),o("div",ut,[x(o("input",{"onUpdate:modelValue":h[2]||(h[2]=s=>r.value=s),class:"form-check-input",type:"radio",name:"radioName02",value:"It was on a dreary night of November that I beheld the accomplishment of my toils. With an anxiety that almost amounted to agony, I collected the instruments of life around me, that I might infuse a spark of being into the lifeless thing that lay at my feet. It was already one in the morning; the rain pattered dismally against the panes, and my candle was nearly burnt out, when, by the glimmer of the half-extinguished light, I saw the dull yellow eye of the creature open; it breathed hard, and a convulsive motion agitated its limbs.How can I describe my emotions at this catastrophe, or how delineate the wretch whom with such infinite pains and care I had endeavoured to form? His limbs were in proportion, and I had selected his features as beautiful. Beautiful! Great God! His yellow skin scarcely covered the work of muscles and arteries beneath; his hair was of a lustrous black, and flowing; his teeth of a pearly whiteness; but these luxuriances only formed a more horrid contrast with h konaida roan roan kun ni a xtu ta toki \u3001 maruzen no mise de \u4E00 niti ni mannenhitu ga nani honi u reru daro u to tazu ne tara \u3001 roan kun ha oo i toki ha hyakumoto kurai de ru sou da to kota e ta \u3002 otto sore de ha \u4E00 hon no mannenhitu ga dono kurai naga ku tuka eru daro u to ki i tara \u3001 konaida yokohama no mono de \u3001 pen ha mada ka nari da ga \u3001 ziku zi kuga he xtu ta kara ziku take dake kae kae te kure kure to i xtu te mo xtu te ki ta no ga aru ga \u3001 konohito ha \u5341\u4E09 nen mae ni \u4E00 hon ka xtu ta giri de \u3001 sono \u4E00 hon wo kyou made ta e zu siyou si te i ta no da to iu kara \u3001 kore kore ga maa itiban naga i rei rasii to hana si ta \u3002 si te mi ru to hutuu no baai de ha ikura zankoku ni tuka xtu te mo taitei \u516D\u4E03 nen no hosyou ha tu ke rareru no ga \u3001 ippan no mannenhitu no unmei rasii \u3002 \u4E00 hon de otto hodo sorehodo naga ku tuka eru mono ga hi ni hyakumoto mo de ru to i e ba mannenhitu wo zyuyou suru hito no hani ha hizyou na ikioi wo omonmi moxtu te hiro gari tutu aru to mi te mo manzara manzara kentoutiga"},null,512),[[y,r.value]]),lt]),o("div",ht,[x(o("input",{"onUpdate:modelValue":h[3]||(h[3]=s=>r.value=s),class:"form-check-input",type:"radio",name:"radioName02",value:"It was on a dreary night of November that I beheld the accomplishment of my toils. With an anxiety that almost amounted to agony, I collected the instruments of life around me, that I might infuse a spark of being into the lifeless thing that lay at my feet. It was already one in the morning; the rain pattered dismally against the panes, and my candle was nearly burnt out, when, by the glimmer of the half-extinguished light, I saw the dull yellow eye of the creature open; it breathed hard, and a convulsive motion agitated its limbs.How can I describe my emotions at this catastrophe, or how delineate the wretch whom with such infinite pains and care I had endeavoured to form? His limbs were in proportion, and I had selected his features as beautiful. Beautiful! Great God! His yellow skin scarcely covered the work of muscles and arteries beneath; his hair was of a lustrous black, and flowing; his teeth of a pearly whiteness; but these luxuriances only formed a more horrid contrast with h"},null,512),[[y,r.value]]),ct]),o("div",dt,[x(o("input",{"onUpdate:modelValue":h[4]||(h[4]=s=>r.value=s),class:"form-check-input",type:"radio",name:"radioName02",value:"konaida roan roan kun ni a xtu ta toki \u3001 maruzen no mise de \u4E00 niti ni mannenhitu ga nani honi u reru daro u to tazu ne tara \u3001 roan kun ha oo i toki ha hyakumoto kurai de ru sou da to kota e ta \u3002 otto sore de ha \u4E00 hon no mannenhitu ga dono kurai naga ku tuka eru daro u to ki i tara \u3001 konaida yokohama no mono de \u3001 pen ha mada ka nari da ga \u3001 ziku zi kuga he xtu ta kara ziku take dake kae kae te kure kure to i xtu te mo xtu te ki ta no ga aru ga \u3001 konohito ha \u5341\u4E09 nen mae ni \u4E00 hon ka xtu ta giri de \u3001 sono \u4E00 hon wo kyou made ta e zu siyou si te i ta no da to iu kara \u3001 kore kore ga maa itiban naga i rei rasii to hana si ta \u3002 si te mi ru to hutuu no baai de ha ikura zankoku ni tuka xtu te mo taitei \u516D\u4E03 nen no hosyou ha tu ke rareru no ga \u3001 ippan no mannenhitu no unmei rasii \u3002 \u4E00 hon de otto hodo sorehodo naga ku tuka eru mono ga hi ni hyakumoto mo de ru to i e ba mannenhitu wo zyuyou suru hito no hani ha hizyou na ikioi wo omonmi moxtu te hiro gari tutu aru to mi te mo manzara manzara kentoutiga"},null,512),[[y,r.value]]),mt]),_t,m(t).go_btn?(c(),d("button",{key:2,class:"mt-3 btn btn-primary",onClick:D},"Go")):p("",!0)])):p("",!0),m(t).mode_switch===1?(c(),d("div",ft,[o("div",kt,[(c(!0),d(z,null,A(E.value,s=>(c(),d("div",pt,[(c(!0),d(z,null,A(s.result,w=>(c(),d("div",xt,_(w),1))),256)),o("div",yt,[o("p",null,_(s.result),1),o("p",null,[gt,o("h4",null,_(s.sum),1)]),o("p",null,"(Position: "+_(s.position)+", Movement: "+_(s.movement)+")",1)])]))),256))]),wt])):p("",!0),o("div",vt,_(f.value),1)],64))}});var zt=j(bt,[["__scopeId","data-v-120ca852"]]);const It=o("header",{class:"container"},[o("h1",null,"\u30AA\u30EB\u30BD\u30EA\u3055\u30FC\u3061 | Ortho Search ")],-1),Et={class:"container"},Nt=o("footer",{class:"mt-5 mb-5 container"},[o("p",null,[I("Wanna create a heatmap? Visit "),o("a",{href:"https://oha-ohashi.github.io/2022_1/a_ortho/ortho_heat.html"},' "\u30AA\u30EB\u30BD\u30EA\u3072\u30FC\u3068 | Ortho Heat" ')]),o("p",null,[I("Wanna compare layouts or custermise the evaluation function? Try "),o("a",{href:"https://github.com/oha-Ohashi/ts_ideal_layout/tree/main"}," CLI version "),I(" (node.js required).")]),o("p",null,[o("a",{href:"https://github.com/oha-Ohashi/ortho_search"}," GitHub Repository ")])],-1),Wt=V({setup(n){return(t,e)=>(c(),d(z,null,[It,o("main",Et,[S(zt,{msg:"lalala"})]),Nt],64))}});export{Wt as default};
